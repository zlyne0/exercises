## Enterprise common components
Examples of some common enterprise patterns/components on edge of Domain Driven Design, 
object-oriented programing and hibernate.

JPA entities required empty default constructor so add maven kotlin compiler plugin jpa.
```xml
<compilerPlugins>
    ...
    <plugin>jpa</plugin>
    ...
</compilerPlugins>
```

### Package param
ParamId as entity primary key, created and generated by hibernate id generator.

ParamName and ParamValue mapped by hibernate AttributeConverter.

ParamId as @Embeddable generated in ParamIdGenerator located in hibernate subpackage.

### Package blob
Component persist custom byte array data in database as blob.

BlobId as @Embeddable generated by repository from sequence.

### KeyLock
Example of Pessimistic lock with custom unique key.
With fluent api.
service.lock(key, () -> {
    do_something
})
val someThing = service.lock(key, () -> return crateSomeThing)

For testing use CountDownLatch to synchronize locks.

### JsonObject 
Value object mapped by hibernate embeddable.
JsonObjectId generated by repository.

Allow store in database object as string. Serialized by Jackson. 

### TODO - Microservice outbox pattern.

With silence switch allow send and forget.
Custom send provider for example by rest, or message broker.

Functionality with param that run processing not often then for example 5 sec.
Meybe library resilent4j?

### TODO - async
Allow run some task in parallel. Use thread pool,
can gather results and exceptions.

### TODO - avro i protobuf
Two examples of using avro and protobuf.
Artefacts generated in other jar.
Refactor save object to blob and use custom serializer.

